<!DOCTYPE html>
<html>
    <head>
        <title>Vendnue</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    </head>
    <body>
        <div class="auth-container">
            <div class="auth-inputs">
                <input class="input" id='email' name='username' placeholder='Email' />
                <input class="input" id='first_name' name='username' placeholder='First Name' />
                <input class="input" id='last_name' name='username' placeholder='Last Name' />
                <input class="input" id='password' name='password' placeholder='Password' type='password' />
                <input type="submit" value="Sign Up" class="auth-button" id="login-button">
            <p>Already have an account?<a href="./login.html">Login</a></p>
            </div>
        </div>
    </body>
    <script type="text/javascript">
const API_URL = 'http://127.0.0.1:5000';
$('#login-button').on('click', function(){
    $.ajax({
        url: API_URL + '/auth/signup',
        type: 'POST',
        contentType: 'application/json',
        data: JSON.stringify({'email': $('#email').val(), 'password': $('#password').val(), 'first_name': $('#first_name').val(), 'last_name': $('#last_name').val()}),
        xhrFields: {
            withCredentials: true
        },
        crossDomain: true,
        success: function(res){
            alert('success');
            location.href = '../sell'
        },
        error: function(xhr){
            alert('there was an error signing in');
            console.log(xhr);
        },
    });
})
    </script>
<html>
